#!/bin/bash

if [[ -z $_pogoConfigIncluded ]]; then

    PogoTop=/Pogo
    
    PogoData=$PogoTop/Data
    PogoCompile=$PogoData/Compile
    PogoArchives=$PogoCompile/Archives
    PogoFlatArchives=$PogoArchives/Flat
    PogoSources=$PogoCompile/Sources
    
    PogoPrograms=$PogoTop/Programs

    PogoSystem=$PogoTop/System
    PogoIndex=$PogoSystem/Index


    _pogoExec=~/lifo/bin/PogoExec

    function Fatal
    {
        local prefix
        case $0 in
            */pogo) ;;
            *) prefix="pogo " ;;
        esac
            
        echo "${prefix}${0##*/}: $1" 1>&2
        exit 255
    }

    function PogoExec
    {
        [[ -n $1 ]] || Fatal "no argument given"
        script=$_pogoExec/$1
        [[ -e $script ]] || Fatal "unknown function '$1'"
        shift
        $script "$@"
    }

    function Import
    {
        source $_pogoExec/$1
    }

    declare -a PogoVars
    PogoVars=$(declare -p | grep -e 'declare -- Pogo' | cut --characters=12- | sed 's/=.*//')

    verbose=''

    _pogoConfigIncluded=true    
fi
